{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport CourseComment from '@/components/CourseComment';\nimport AddComment from '@/components/AddComment';\nimport Quiz from '@/components/Quiz';\nimport Video from '@/components/Video';\nexport default {\n  components: {\n    CourseComment,\n    AddComment,\n    Quiz,\n    Video\n  },\n  data() {\n    return {\n      course: {\n        created_by: {\n          id: 0\n        }\n      },\n      lessons: [],\n      comments: [],\n      activeLesson: null,\n      errors: [],\n      quiz: {},\n      activity: {}\n    };\n  },\n  async mounted() {\n    console.log('mounted');\n    const slug = this.$route.params.slug;\n    await axios.get(`courses/${slug}/`).then(response => {\n      console.log(response.data);\n      this.course = response.data.course;\n      this.lessons = response.data.lessons;\n    });\n    document.title = this.course.title + ' | StudyNet';\n  },\n  methods: {\n    submitComment(comment) {\n      this.comments.push(comment);\n    },\n    setActiveLesson(lesson) {\n      this.activeLesson = lesson;\n      if (lesson.lesson_type === 'quiz') {\n        this.getQuiz();\n      } else {\n        this.getComments();\n      }\n      this.trackStarted();\n    },\n    trackStarted() {\n      axios.post(`activities/track_started/${this.$route.params.slug}/${this.activeLesson.slug}/`).then(response => {\n        console.log(response.data);\n        this.activity = response.data;\n      });\n    },\n    markAsDone() {\n      axios.post(`activities/mark_as_done/${this.$route.params.slug}/${this.activeLesson.slug}/`).then(response => {\n        console.log(response.data);\n        this.activity = response.data;\n      });\n    },\n    getQuiz() {\n      axios.get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`).then(response => {\n        console.log(response.data);\n        this.quiz = response.data;\n      });\n    },\n    getComments() {\n      axios.get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-comments/`).then(response => {\n        console.log(response.data);\n        this.comments = response.data;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","CourseComment","AddComment","Quiz","Video","components","data","course","created_by","id","lessons","comments","activeLesson","errors","quiz","activity","mounted","console","log","slug","$route","params","get","then","response","document","title","methods","submitComment","comment","push","setActiveLesson","lesson","lesson_type","getQuiz","getComments","trackStarted","post","markAsDone"],"sources":["C:\\GitHub\\baru1\\Backkup - Copy\\studynet_django\\studynet_vue\\src\\views\\Course.vue"],"sourcesContent":["<template>\r\n    <div class=\"courses\">\r\n        <div class=\"hero is-info\">\r\n            <div class=\"hero-body has-text-centered\">\r\n                <h1 class=\"title\">{{ course.title }}</h1>\r\n\r\n                <router-link\r\n                    :to=\"{name: 'Author', params: {id: course.created_by.id }}\"\r\n                    class=\"subtitle\"\r\n                >\r\n                    By {{ course.created_by.first_name + ' ' + course.created_by.last_name }}\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <section class=\"section\">\r\n            <div class=\"container\">\r\n                <div class=\"columns content\">\r\n                    <div class=\"column is-2\">\r\n                        <h2>Table of contents</h2>\r\n\r\n                        <ul>\r\n                            <li\r\n                                v-for=\"lesson in lessons\"\r\n                                v-bind:key=\"lesson.id\"\r\n                                \r\n                            >\r\n                                <a @click=\"setActiveLesson(lesson)\">{{ lesson.title }}</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div class=\"column is-10\">\r\n                        <template v-if=\"$store.state.user.isAuthenticated\">\r\n                            <template v-if=\"activeLesson\">\r\n                                <h2>{{ activeLesson.title }}</h2>\r\n\r\n                                <span class=\"tag is-warning\" v-if=\"activity.status == 'started'\" @click=\"markAsDone\"  style=\"background-color: #555; color:whitesmoke\">Started (mark as done)</span>\r\n                                <span class=\"tag is-success\" v-else  style=\"background-color: #666; color:whitesmoke\">Done</span>\r\n\r\n                                <hr>\r\n                                \r\n                                {{ activeLesson.long_description }}\r\n\r\n                                <hr>\r\n\r\n                                <template v-if=\"activeLesson.lesson_type === 'quiz'\">\r\n                                    <Quiz\r\n                                        v-bind:quiz=\"quiz\"\r\n                                    />\r\n                                </template>\r\n\r\n                                <template v-if=\"activeLesson.lesson_type === 'video'\">\r\n                                    <Video\r\n                                        v-bind:youtube_id=\"activeLesson.youtube_id\"\r\n                                    />\r\n                                </template>\r\n\r\n                                <template  v-if=\"activeLesson.lesson_type === 'article'\">\r\n                                    <CourseComment\r\n                                        v-for=\"comment in comments\"\r\n                                        v-bind:key=\"comment.id\"\r\n                                        v-bind:comment=\"comment\"\r\n                                    />\r\n\r\n                                    <AddComment\r\n                                        v-bind:course=\"course\"\r\n                                        v-bind:activeLesson=\"activeLesson\"\r\n                                        v-on:submitComment=\"submitComment\"\r\n                                    />\r\n                                </template>\r\n                            </template>\r\n\r\n                            <template v-else>\r\n                                {{ course.long_description }}\r\n                            </template>\r\n                        </template>\r\n\r\n                        <template v-else>\r\n                            <h2>Restricted access</h2>\r\n                            \r\n                            <p>You need to have an account to continue!</p>\r\n                        </template>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport CourseComment from '@/components/CourseComment'\r\nimport AddComment from '@/components/AddComment'\r\nimport Quiz from '@/components/Quiz'\r\nimport Video from '@/components/Video'\r\n\r\nexport default {\r\n    components: {\r\n        CourseComment,\r\n        AddComment,\r\n        Quiz,\r\n        Video\r\n    },\r\n    data() {\r\n        return {\r\n            course: {\r\n                created_by: {\r\n                    id: 0\r\n                }\r\n            },\r\n            lessons: [],\r\n            comments: [],\r\n            activeLesson: null,\r\n            errors: [],\r\n            quiz: {},\r\n            activity: {}\r\n        }\r\n    },\r\n    async mounted() {\r\n        console.log('mounted')\r\n\r\n        const slug = this.$route.params.slug\r\n\r\n        await axios\r\n            .get(`courses/${slug}/`)\r\n            .then(response => {\r\n                console.log(response.data)\r\n\r\n                this.course = response.data.course\r\n                this.lessons = response.data.lessons\r\n            })\r\n        \r\n        document.title = this.course.title + ' | StudyNet'\r\n    },\r\n    methods: {\r\n        submitComment(comment) {\r\n            this.comments.push(comment)\r\n        },\r\n        setActiveLesson(lesson) {\r\n            this.activeLesson = lesson\r\n\r\n            if (lesson.lesson_type === 'quiz') {\r\n                this.getQuiz()\r\n            } else {\r\n                this.getComments()\r\n            }\r\n\r\n            this.trackStarted()\r\n        },\r\n        trackStarted() {\r\n            axios\r\n                .post(`activities/track_started/${this.$route.params.slug}/${this.activeLesson.slug}/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.activity = response.data\r\n                })\r\n        },\r\n        markAsDone() {\r\n            axios\r\n                .post(`activities/mark_as_done/${this.$route.params.slug}/${this.activeLesson.slug}/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.activity = response.data\r\n                })\r\n        },\r\n        getQuiz() {\r\n            axios\r\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.quiz = response.data\r\n                })\r\n        },\r\n        getComments() {\r\n            axios\r\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-comments/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.comments = response.data\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}