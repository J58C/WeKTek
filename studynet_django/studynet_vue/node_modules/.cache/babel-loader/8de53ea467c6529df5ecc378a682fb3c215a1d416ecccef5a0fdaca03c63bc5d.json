{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"courses\"\n};\nconst _hoisted_2 = {\n  class: \"hero is-info\"\n};\nconst _hoisted_3 = {\n  class: \"hero-body has-text-centered\"\n};\nconst _hoisted_4 = {\n  class: \"title\"\n};\nconst _hoisted_5 = {\n  class: \"section\"\n};\nconst _hoisted_6 = {\n  class: \"container\"\n};\nconst _hoisted_7 = {\n  class: \"columns content\"\n};\nconst _hoisted_8 = {\n  class: \"column is-2\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Table of contents\", -1 /* HOISTED */);\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  class: \"column is-10\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"tag is-success\",\n  style: {\n    \"background-color\": \"#666\",\n    \"color\": \"whitesmoke\"\n  }\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Restricted access\", -1 /* HOISTED */);\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"p\", null, \"You need to have an account to continue!\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_Quiz = _resolveComponent(\"Quiz\");\n  const _component_Video = _resolveComponent(\"Video\");\n  const _component_CourseComment = _resolveComponent(\"CourseComment\");\n  const _component_AddComment = _resolveComponent(\"AddComment\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, _toDisplayString($data.course.title), 1 /* TEXT */), _createVNode(_component_router_link, {\n    to: {\n      name: 'Author',\n      params: {\n        id: $data.course.created_by.id\n      }\n    },\n    class: \"subtitle\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" By \" + _toDisplayString($data.course.created_by.first_name + ' ' + $data.course.created_by.last_name), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])]), _createElementVNode(\"section\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.lessons, lesson => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: lesson.id\n    }, [_createElementVNode(\"a\", {\n      onClick: $event => $options.setActiveLesson(lesson)\n    }, _toDisplayString(lesson.title), 9 /* TEXT, PROPS */, _hoisted_10)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_11, [_ctx.$store.state.user.isAuthenticated ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [$data.activeLesson ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createElementVNode(\"h2\", null, _toDisplayString($data.activeLesson.title), 1 /* TEXT */), $data.activity.status == 'started' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: \"tag is-warning\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.markAsDone && $options.markAsDone(...args)),\n    style: {\n      \"background-color\": \"#555\",\n      \"color\": \"whitesmoke\"\n    }\n  }, \"Started (mark as done)\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \"Done\")), _hoisted_13, _createTextVNode(\" \" + _toDisplayString($data.activeLesson.long_description) + \" \", 1 /* TEXT */), _hoisted_14, $data.activeLesson.lesson_type === 'quiz' ? (_openBlock(), _createBlock(_component_Quiz, {\n    key: 2,\n    quiz: $data.quiz\n  }, null, 8 /* PROPS */, [\"quiz\"])) : _createCommentVNode(\"v-if\", true), $data.activeLesson.lesson_type === 'video' ? (_openBlock(), _createBlock(_component_Video, {\n    key: 3,\n    youtube_id: $data.activeLesson.youtube_id\n  }, null, 8 /* PROPS */, [\"youtube_id\"])) : _createCommentVNode(\"v-if\", true), $data.activeLesson.lesson_type === 'article' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 4\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.comments, comment => {\n    return _openBlock(), _createBlock(_component_CourseComment, {\n      key: comment.id,\n      comment: comment\n    }, null, 8 /* PROPS */, [\"comment\"]);\n  }), 128 /* KEYED_FRAGMENT */)), _createVNode(_component_AddComment, {\n    course: $data.course,\n    activeLesson: $data.activeLesson,\n    onSubmitComment: $options.submitComment\n  }, null, 8 /* PROPS */, [\"course\", \"activeLesson\", \"onSubmitComment\"])], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createTextVNode(_toDisplayString($data.course.long_description), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */))], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_hoisted_15, _hoisted_16], 64 /* STABLE_FRAGMENT */))])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","course","title","_createVNode","_component_router_link","to","name","params","id","created_by","first_name","last_name","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","lessons","lesson","key","onClick","$event","$options","setActiveLesson","_hoisted_10","_hoisted_11","_ctx","$store","state","user","isAuthenticated","activeLesson","activity","status","_cache","args","markAsDone","_hoisted_12","_hoisted_13","long_description","_hoisted_14","lesson_type","_createBlock","_component_Quiz","quiz","_component_Video","youtube_id","comments","comment","_component_CourseComment","_component_AddComment","onSubmitComment","submitComment","_hoisted_15","_hoisted_16"],"sources":["C:\\GitHub\\baru1\\Web-DJKI\\studynet_django\\studynet_vue\\src\\views\\Course.vue"],"sourcesContent":["<template>\r\n    <div class=\"courses\">\r\n        <div class=\"hero is-info\">\r\n            <div class=\"hero-body has-text-centered\">\r\n                <h1 class=\"title\">{{ course.title }}</h1>\r\n\r\n                <router-link\r\n                    :to=\"{name: 'Author', params: {id: course.created_by.id }}\"\r\n                    class=\"subtitle\"\r\n                >\r\n                    By {{ course.created_by.first_name + ' ' + course.created_by.last_name }}\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <section class=\"section\">\r\n            <div class=\"container\">\r\n                <div class=\"columns content\">\r\n                    <div class=\"column is-2\">\r\n                        <h2>Table of contents</h2>\r\n\r\n                        <ul>\r\n                            <li\r\n                                v-for=\"lesson in lessons\"\r\n                                v-bind:key=\"lesson.id\"\r\n                                \r\n                            >\r\n                                <a @click=\"setActiveLesson(lesson)\">{{ lesson.title }}</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div class=\"column is-10\">\r\n                        <template v-if=\"$store.state.user.isAuthenticated\">\r\n                            <template v-if=\"activeLesson\">\r\n                                <h2>{{ activeLesson.title }}</h2>\r\n\r\n                                <span class=\"tag is-warning\" v-if=\"activity.status == 'started'\" @click=\"markAsDone\"  style=\"background-color: #555; color:whitesmoke\">Started (mark as done)</span>\r\n                                <span class=\"tag is-success\" v-else  style=\"background-color: #666; color:whitesmoke\">Done</span>\r\n\r\n                                <hr>\r\n                                \r\n                                {{ activeLesson.long_description }}\r\n\r\n                                <hr>\r\n\r\n                                <template v-if=\"activeLesson.lesson_type === 'quiz'\">\r\n                                    <Quiz\r\n                                        v-bind:quiz=\"quiz\"\r\n                                    />\r\n                                </template>\r\n\r\n                                <template v-if=\"activeLesson.lesson_type === 'video'\">\r\n                                    <Video\r\n                                        v-bind:youtube_id=\"activeLesson.youtube_id\"\r\n                                    />\r\n                                </template>\r\n\r\n                                <template  v-if=\"activeLesson.lesson_type === 'article'\">\r\n                                    <CourseComment\r\n                                        v-for=\"comment in comments\"\r\n                                        v-bind:key=\"comment.id\"\r\n                                        v-bind:comment=\"comment\"\r\n                                    />\r\n\r\n                                    <AddComment\r\n                                        v-bind:course=\"course\"\r\n                                        v-bind:activeLesson=\"activeLesson\"\r\n                                        v-on:submitComment=\"submitComment\"\r\n                                    />\r\n                                </template>\r\n                            </template>\r\n\r\n                            <template v-else>\r\n                                {{ course.long_description }}\r\n                            </template>\r\n                        </template>\r\n\r\n                        <template v-else>\r\n                            <h2>Restricted access</h2>\r\n                            \r\n                            <p>You need to have an account to continue!</p>\r\n                        </template>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport CourseComment from '@/components/CourseComment'\r\nimport AddComment from '@/components/AddComment'\r\nimport Quiz from '@/components/Quiz'\r\nimport Video from '@/components/Video'\r\n\r\nexport default {\r\n    components: {\r\n        CourseComment,\r\n        AddComment,\r\n        Quiz,\r\n        Video\r\n    },\r\n    data() {\r\n        return {\r\n            course: {\r\n                created_by: {\r\n                    id: 0\r\n                }\r\n            },\r\n            lessons: [],\r\n            comments: [],\r\n            activeLesson: null,\r\n            errors: [],\r\n            quiz: {},\r\n            activity: {}\r\n        }\r\n    },\r\n    async mounted() {\r\n        console.log('mounted')\r\n\r\n        const slug = this.$route.params.slug\r\n\r\n        await axios\r\n            .get(`courses/${slug}/`)\r\n            .then(response => {\r\n                console.log(response.data)\r\n\r\n                this.course = response.data.course\r\n                this.lessons = response.data.lessons\r\n            })\r\n        \r\n        document.title = this.course.title + ' | StudyNet'\r\n    },\r\n    methods: {\r\n        submitComment(comment) {\r\n            this.comments.push(comment)\r\n        },\r\n        setActiveLesson(lesson) {\r\n            this.activeLesson = lesson\r\n\r\n            if (lesson.lesson_type === 'quiz') {\r\n                this.getQuiz()\r\n            } else {\r\n                this.getComments()\r\n            }\r\n\r\n            this.trackStarted()\r\n        },\r\n        trackStarted() {\r\n            axios\r\n                .post(`activities/track_started/${this.$route.params.slug}/${this.activeLesson.slug}/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.activity = response.data\r\n                })\r\n        },\r\n        markAsDone() {\r\n            axios\r\n                .post(`activities/mark_as_done/${this.$route.params.slug}/${this.activeLesson.slug}/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.activity = response.data\r\n                })\r\n        },\r\n        getQuiz() {\r\n            axios\r\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-quiz/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.quiz = response.data\r\n                })\r\n        },\r\n        getComments() {\r\n            axios\r\n                .get(`courses/${this.course.slug}/${this.activeLesson.slug}/get-comments/`)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n\r\n                    this.comments = response.data\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}